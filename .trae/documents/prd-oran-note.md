## 1. 产品概述
Oran记是一款轻量级AI笔记产品，采用IDE风格布局，集成文件管理、Markdown编辑和AI辅助功能于一体。产品旨在为知识工作者提供高效的笔记管理和智能写作体验。

核心目标：解决传统笔记工具缺乏AI辅助、文件管理不便、写作效率低下的问题，帮助用户更好地组织知识、提升写作效率。

## 2. 核心功能

### 2.1 用户角色
| 角色 | 注册方式 | 核心权限 |
|------|----------|----------|
| 普通用户 | 本地使用，无需注册 | 使用所有基础功能，配置个人API密钥 |

### 2.2 功能模块
Oran记包含以下主要功能区域：
1. **文件管理区**：工作区选择、文件树管理、文件操作
2. **笔记编辑区**：Markdown编辑、实时预览、模式切换
3. **AI助手区**：智能问答、上下文引用、模型配置

### 2.3 页面详情
| 页面名称 | 模块名称 | 功能描述 |
|----------|----------|----------|
| 主界面 | 文件管理区 | 选择电脑文件夹作为工作区，树形展示Markdown和PDF文件，支持创建/删除/拖拽文件和文件夹 |
| 主界面 | 笔记编辑区 | Markdown写作编辑器，支持实时预览、编辑/预览模式切换，自动保存笔记内容 |
| 主界面 | AI助手区 | 读取全局文件的AI对话，支持@提及文件/文件夹/工作区作为上下文，用户可配置API key和modelID |
| 设置面板 | 用户配置 | 持久化保存用户配置（API密钥、头像、用户名），支持硅基流动平台模型选择 |

## 3. 核心流程

### 用户操作流程
1. **首次使用流程**：
   - 启动应用 → 选择工作区文件夹 → 配置AI模型参数 → 开始写作

2. **日常使用流程**：
   - 打开应用 → 浏览文件树 → 选择/创建笔记 → 编辑内容 → 使用AI辅助 → 自动保存

3. **AI辅助流程**：
   - 在AI区输入问题 → @提及相关文件 → AI读取上下文 → 生成回答 → 可选插入到笔记

```mermaid
graph TD
    A[启动应用] --> B[选择工作区]
    B --> C[文件管理区]
    C --> D[选择/创建笔记]
    D --> E[笔记编辑区]
    E --> F[编辑内容]
    F --> G[AI助手区]
    G --> H[@提及文件]
    H --> I[AI生成回答]
    I --> J[插入笔记]
    J --> K[自动保存]
```

## 4. 用户界面设计

### 4.1 设计风格
- **主色调**：深色系主题，类似VS Code的深色主题
- **辅助色**：蓝色强调色用于交互元素
- **按钮风格**：扁平化设计，圆角矩形
- **字体**：等宽字体用于编辑器（如Consolas），系统字体用于UI
- **布局风格**：三栏式IDE布局，可调整面板宽度
- **图标风格**：简约线性图标，支持文件类型图标

### 4.2 页面设计概览
| 页面名称 | 模块名称 | UI元素 |
|----------|----------|--------|
| 主界面 | 文件管理区 | 左侧边栏，树形文件结构，文件图标区分类型，支持右键菜单和拖拽操作 |
| 主界面 | 笔记编辑区 | 中央区域，顶部工具栏（编辑/预览切换），编辑器支持语法高亮，实时预览分栏显示 |
| 主界面 | AI助手区 | 右侧边栏，顶部模型选择器，对话式界面，@提及功能弹窗，代码块展示 |
| 设置面板 | 配置界面 | 模态框形式，表单输入API密钥、用户名、头像，模型选择下拉框 |

### 4.3 响应式设计
- **桌面优先**：主要针对桌面端优化
- **面板可调整**：三个区域宽度可拖拽调整
- **最小窗口尺寸**：支持1280x720及以上分辨率